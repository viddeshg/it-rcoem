<!DOCTYPE html>
<html>
<head>
  <title>Admin | Events</title>
  <%= render 'layouts/links' %>
  <%= render 'layouts/styles' %>

<style>
  tbody td
  {
    padding: 0.4rem;
  }
</style>
</head>
<body style="overflow-x:hidden">
<%= render 'layouts/navbar' %>
<main>
  <div class="container">

    <p class="center flow-text" style="letter-spacing: 1px; color: #673BB7;"><strong>ADMIN PANEL</strong></p>

    <div class="row">
      <div class="col s12 m10 offset-m1" style="padding:0;">
        <div class="col m2 s6">
          <a class="center waves-effect waves-light custom-btn" href="/admin"><i class="fas fa-home"></i> HOME</a>
        </div>
        <div class="col m2 s6">
          <a class="center waves-effect waves-light custom-active" href="/admin/events" style="margin-bottom: 5px;"><i class="fas fa-star"></i> EVENTS</a>
        </div>
        <div class="col m2 s6">
          <a class="waves-effect center waves-light custom-btn" href="/admin/notices"><i class="fas fa-bell"></i> NOTICES</a>
        </div>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col s12 m10 offset-m1">
        <%= render 'events/formNew' %>
      </div>
      <div class="col s12 m10 offset-m1">
        <table class="s12 m12 striped">
          <thead style="color:#673BB7;">
          <tr>
            <th>S.No.</th>
            <th>Date</th>
            <th>Event Title</th>
            <th>Action</th>
          </tr>
          </thead>
          <tbody>
          <% @events.each do |event| %>
              <tr>
                <td><%= @flag = @flag + 1 %></td>
                <td><%= event.date %></td>
                <td><a style="color:#333;" href="/events/<%= event.id %>"><%= event.title %></a></td>
                <td> <a style="color:#209CEE;" href="/admin/events/<%= event.id %>/edit_event"><i class="far fa-edit"></i> Edit</a> <br> <a onclick="return confirm('Are you sure?')" href="/admin/events/<%= event.id %>/destroy_event" style="color:#FF3860;"><i class="far fa-trash-alt"></i> Delete</a></td>
              </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>
<%= render 'layouts/footer' %>
<%= render 'layouts/scripts' %>
<script>
    $(document).ready(function() {
        $('input#event_name').characterCounter();

        if ($.trim($("#event_name, #event_desc, #calender").val()) === "") {
            $('form').submit(function(e) {
                e.preventDefault();
                alert('Input fields cannot be left blank.');
            })
        }
    });
</script>
</body>
</html>
